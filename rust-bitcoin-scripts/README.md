# Bitcoin Scripts - Rust Implementation

Note: Code generated using cursor - with a lot of (firm) guidance. Some files have excessive debugging prints and unused imports.

I'm guessing there aren't a lot of code examples for miniscript, so cursor's "knowledge" is sort of limited to the mid-2024 mark
which is why I am not using the latest versions of rust-bitcoin, rust-miniscript, or rust-secp256k1

Running the tests: The tests assume bitcoind is running in regtest. I use docker container 

```
#for example do this to start bitcoind before running the tests
cd ../btc-backend       #this sibling dir has a docker yaml
docker compose up
```

then `cargo test` from current dir


--- Following was autogenerated by cursor and may or may not be worth your time ---

A comprehensive Rust implementation for experimenting with complex Bitcoin scripts including multisig, timelocks, and Taproot using the Bitcoin regtest network.

## ðŸŽ¯ Overview

This project demonstrates Bitcoin scripting concepts using Rust with the `bitcoin` and `miniscript` crates. It provides a complete end-to-end testing framework for funding and spending from various Bitcoin script types.

## âœ… What We Built

### 1. Bitcoin RPC Client
- Robust client that communicates with Bitcoin regtest node
- Handles authentication, JSON-RPC calls, and error management
- Supports wallet creation, address generation, and transaction operations

### 2. 2-of-3 Multisig Address Creation
- Uses Miniscript to create classic multisig addresses
- Generates private/public key pairs
- Creates redeem scripts for spending

### 3. Funding Process
- Sends Bitcoin to multisig addresses
- Confirms transactions with block generation
- Tracks transaction details

### 4. Spending Process
- Creates raw transactions
- Signs with required private keys
- Broadcasts signed transactions
- Verifies successful spending

## ðŸš€ Key Features

- **Automated Testing** - Comprehensive tests that verify the entire flow
- **Real Bitcoin Transactions** - Uses actual Bitcoin Core RPC calls
- **Proper Error Handling** - Robust error handling throughout the process
- **Clean Code** - No warnings, well-structured code

## ðŸ“‹ Prerequisites

1. **Docker & Docker Compose** - For running Bitcoin regtest node
2. **Rust** - Latest stable version
3. **Bitcoin Core** - Running in regtest mode


## ðŸ“š Resources

- [Bitcoin Core RPC Documentation](https://developer.bitcoin.org/reference/rpc/)
- [Miniscript Documentation](https://bitcoin.sipa.be/miniscript/)
- [Rust Bitcoin Documentation](https://docs.rs/bitcoin/)

